var booksDataDisplayed = [
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/41GxXpR58FL.jpg",
      info: "Love is Just Damn Good Business: Do What You Love in the Service of People Who Love What You Do",
      price: 1495,
      category: "Novel",
      language: "English",
      publication: "",
    },
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/51vupV9X9RL.jpg",
      info: "Bank PO English Language Solved Papers",
      price: 201,
      category: "Books for Competitive Exams",
      language: "English",
      publication: "Arihant",
    },
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/51JpRyjbEPL.jpg",
      info: "Oswaal ICSE Question Bank Class 10 Mathematics Chapterwise & Topicwise",
      price: 294,
      category: "School Books",
      language: "English",
      publication: "Oswaal Books",
    },
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/51IhTTwQWtL.jpg",
      info: "Beyond the Christmas Lights",
      price: 240,
      category: "Novel",
      language: "English",
      publication: "",
    },
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/41owYruaaTL.jpg",
      info: "Airbrushing Scale Model Aircraft",
      price: 1433,
      category: "Educational",
      language: "English",
      publication: "",
    },
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/51JXtH%2BKXeL.jpg",
      info: "General Knowledge Aptitude and Logical Thinking for AIIMS",
      price: 115,
      category: "Books for Competitive Exams",
      language: "English",
      publication: "mtG",
    },
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/41dpk6yK7iL.jpg",
      info: "Lessons from Grace: What a Baby Taught Me about Living and Loving",
      price: 299,
      category: "Educational",
      language: "English",
      publication: "",
    },
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/51tec4%2B8vEL.jpg",
      info: "Ottoman Empire: A Captivating Guide to the Rise and Fall of the Ottoman Empire,The Fall of Constantinople, and the Life of Suleiman the Magnificent",
      price: 1199,
      category: "History",
      language: "English",
      publication: "",
    },
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/51P2mPmhmXL.jpg",
      info: "Tero Nadir Pare",
      price: 243,
      category: "Novel",
      language: "Bengali",
      publication: "",
    },
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/51FyRYx233L.jpg",
      info: "The Yoga-System of Ptanjali, or the Ancient Hindu Doctrine of Concentration of Mind",
      price: 1989,
      category: "Educational",
      language: "English",
      publication: "",
    },
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/519NQB%2BCqxL.jpg",
      info: "Drugs in Anesthesia and Critical Care",
      price: 595,
      category: "Educational",
      language: "English",
      publication: "",
    },
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/51bb8Zq5HfL.jpg",
      info: "Google Cloud Platform for Architects: Design and manage powerful cloud solutions",
      price: 1099,
      category: "Educational",
      language: "English",
      publication: "",
    },
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/41maGLPOenL.jpg",
      info: "Humanomics: Moral Sentiments and the Wealth of Nations for the Twenty-First Century",
      price: 2810,
      category: "Educational",
      language: "English",
      publication: "",
    },
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/51LijPSgFoL.jpg",
      info: "GRE Analytical Writing: Solutions to the Real Essay Topics - Book-3",
      price: 739,
      category: "Books for Competitive Exams",
      language: "English",
      publication: "Vibrant Publishers",
    },
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/41EYHI4Yt2L.jpg",
      info: "Revolutionary Iran",
      price: 389,
      category: "History",
      language: "English",
      publication: "",
    },
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/41Tcckuz1RL.jpg",
      info: "The End of Romance: Lessons in Patriarchy, Feminism, Rights and Privileges",
      price: 364,
      category: "Educational",
      language: "English",
      publication: "Bloomsbury",
    },
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/41s7nZYO1qL.jpg",
      info: "The Art of Parenting",
      price: 150,
      category: "Educational",
      language: "Bengali",
      publication: "",
    },
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/41wBpWs9ThL.jpg",
      info: "Wisden Cricketers Almanack 2019",
      price: 1459,
      category: "Sports",
      language: "English",
      publication: "",
    },
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/61XcTIiwIQL.jpg",
      info: "The Lies That Bind : Rethinking Identity",
      price: 647,
      category: "Educational",
      language: "English",
      publication: "",
    },
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/41Lae5f1agL.jpg",
      info: "Martail Arts Training Journal: Silambam",
      price: 646,
      category: "Educational",
      language: "English",
      publication: "",
    },
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/41rQOBAZOmL.jpg",
      info: "Rotor Dynamics",
      price: 949,
      category: "Engineering Books",
      language: "English",
      publication: "New Age International Publishers",
    },
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/41uo7G58EhL.jpg",
      info: "Civil Engineering: 3200 MCQs - Practice Book for ESE,GATE & PSUs",
      price: 444,
      category: "Engineering Books",
      language: "English",
      publication: "Made Easy Publications",
    },
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/51iKn7Frp%2BL.jpg",
      info: "Storywallah",
      price: 188,
      category: "Novel",
      language: "English",
      publication: "Penguin India",
    },
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/51QEPPy1g7L.jpg",
      info: "RRB 2019 - Junior Engineer CBT 2 3O Sets : Chapter-Wise & Year-Wise solved papers",
      price: 190,
      category: "Books for Competitive Exams",
      language: "English",
      publication: "GKP",
    },
    {
      image_url:
        "https://images-eu.ssl-images-amazon.com/images/I/51qNHXJxmcL.jpg",
      info: "How to Be a Capitalist Without Any Capital: The Four Rules You Must Break to Get Rich",
      price: 654,
      category: "Educational",
      language: "English",
      publication: "",
    },
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/511jCC%2BzQXL.jpg",
      info: "Approximate Methods of Higher Analysis",
      price: 1389,
      category: "Engineering Books",
      language: "English",
      publication: "",
    },
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/51-XdssMpGL.jpg",
      info: "The Future of Design: Global Product Innovation for a Complex World",
      price: 227,
      category: "Educational",
      language: "English",
      publication: "",
    },
    {
      image_url: "https://images-eu.ssl-images-amazon.com/images/I/614siJTnKtL.jpg",
      info: "Students Referencer on Indirect Taxes: CA Final Old and New Syllabus",
      price: 926,
      category: "Books for Competitive Exams",
      language: "English",
      publication: "Padhukas",
    },
    {
      image_url:
        "https://images-eu.ssl-images-amazon.com/images/I/41VU3BN9k3L.jpg",
      info: "How to Program a Quantum Computer: Volume 10",
      price: 841,
      category: "Educational",
      language: "English",
      publication: "",
    },
    {
      image_url:
        "https://images-eu.ssl-images-amazon.com/images/I/512xdXArO-L.jpg",
      info: "Delhi University B.Ed. JEE Joint Entrance Exam 2019",
      price: 190,
      category: "Books for Competitive Exams",
      language: "English",
      publication: "Arihant",
    },
    {
      image_url:
        "https://images-eu.ssl-images-amazon.com/images/I/41cdwxIs%2BXL.jpg",
      info: "Evolution and Ecology for NEET,AIIMS and other mdeical entrance examinations",
      price: 319,
      category: "Books for Competitive Exams",
      language: "English",
      publication: "Mc Graw Hill",
    },
    {
      image_url:
        "https://images-eu.ssl-images-amazon.com/images/I/411QqYmAMSL.jpg",
      info: "Everyone's a Theologian: An Introduction to Systematic Theology",
      price: 1156,
      category: "Educational",
      language: "English",
      publication: "",
    },
    {
      image_url:
        "https://images-eu.ssl-images-amazon.com/images/I/51b8bt1EgIL.jpg",
      info: "Out of Italy",
      price: 888,
      category: "History",
      language: "English",
      publication: "",
    },
    {
      image_url:
        "https://images-eu.ssl-images-amazon.com/images/I/51YQ%2Bb4MJzL.jpg",
      info: "The Oxford Handbook of the Australian Constitution",
      price: 14191,
      category: "Educational",
      language: "English",
      publication: "",
    },
    {
      image_url:
        "https://images-eu.ssl-images-amazon.com/images/I/61QbtcIsYbL.jpg",
      info: "The Last Namaskara: Iskari Book One",
      price: 349,
      category: "Novel",
      language: "English",
      publication: "",
    },
    {
      image_url:
        "https://images-eu.ssl-images-amazon.com/images/I/41UYgRWwJnL.jpg",
      info: "An Impeccable Spy: Richard Sorge, Stalin's Master Agent",
      price: 384,
      category: "Documentary",
      language: "English",
      publication: "",
    },
        {
      image_url:
        "https://images-eu.ssl-images-amazon.com/images/I/417w7AknWLL.jpg",
      info: "The Testaments: The Sequel to the Handmaid's Tale",
      price: 719,
      category: "Novel",
      language: "English",
      publication: "",
    },
    {
      image_url:
        "https://images-eu.ssl-images-amazon.com/images/I/51aFoFi%2B84L.jpg",
      info: "AmericaN Prison: A Reporter's Undercover Journey into the Business of Punishment",
      price: 1550,
      category: "Documentary",
      language: "English",
      publication: "",
    },
    {
      image_url:
        "https://images-eu.ssl-images-amazon.com/images/I/41MzezfJ62L.jpg",
      info: "Paper Planes",
      price: 416,
      category: "Novel",
      language: "English",
      publication: "",
    },
    {
      image_url:
        "https://images-eu.ssl-images-amazon.com/images/I/51kT241CyGL.jpg",
      info: "The Meaning of Belief - Religion from an Atheist's Point of View",
      price: 1426,
      category: "History",
      language: "English",
      publication: "",
    },
  ];



  var cart = JSON.parse(localStorage.getItem("cart")) || [] ;
  var Sort = document.querySelector("#sort");
  var filterLanguage = document.querySelector("#language");
  var filterGenre = document.querySelector("#genre");
  var filterPublication = document.querySelector("#publishers");

  var cartSymbol = document.querySelector("#viewCart").addEventListener("click",function(){
    window.location.href = "cart.html";
  });

function displayProducts(booksDataDisplayed) {
    booksDataDisplayed.forEach(function(elem){

        var productDiv = document.createElement("div");
        productDiv.setAttribute("id","prodBox");

        var productVisual = document.createElement("img");
        productVisual.setAttribute("id","prodImage");
        productVisual.src = elem.image_url;

        var productDesc = document.createElement("p");
        productDesc.setAttribute("id","prodDesc");
        productDesc.innerText = elem.info;

        var productAmount = document.createElement("p");
        productAmount.setAttribute("id","prodAmt");
        productAmount.innerText = elem.price;

        var productButton = document.createElement("button");
        productButton.setAttribute("id","prodBtn");
        productButton.innerText = "Add to Cart";
        productButton.addEventListener("click",function(){
          addToCart(elem);
        })

        productDiv.append(productVisual,productDesc,productAmount,productButton);
        document.querySelector(".productsDisplay").append(productDiv);
    });
}

displayProducts(booksDataDisplayed);

function addToCart(elem){
  cart.push(elem);
  localStorage.setItem("cart",JSON.stringify(cart));
}

// Sorting based on price

Sort.addEventListener("change",sortThePrice);
filterLanguage.addEventListener("change",filterByLanguage);
filterGenre.addEventListener("change",filterByGenre);
filterPublication.addEventListener("change",filterByPublication);

function sortThePrice(){
  var value=Sort.value;
  
  if(value == "asc"){
    booksDataDisplayed.sort(function(a,b){
          if(a.price < b.price){
              return -1
          }else{
              return 1
          }
          return 0
      })
  }else{
    booksDataDisplayed.sort(function(a,b){
          if(a.price < b.price){
              return 1
          }else{
              return -1
          }
          return 0
      })
  }
  displayProducts(booksDataDisplayed)
  // console.log(booksDataDisplayed);

}

// Sorting based on price

// Filtering based on language

function filterByLanguage(){
    var valueOfLanguage = filterLanguage.value;
    var valueOfLanguageData = booksDataDisplayed.filter(function(elem){
      return elem.language == valueOfLanguage ;
    });
    displayProducts(valueOfLanguageData);
    // console.log(valueOfLanguageData);
}

// Filtering based on language

// Filtering based on genre

function filterByGenre(){
  var valueOfGenre = filterGenre.value;
  var valueOfGenreData = booksDataDisplayed.filter(function(elem){
    return elem.category == valueOfGenre ;
  });
  displayProducts(valueOfGenreData);
  // console.log(valueOfGenreData);
}

// Filtering based on genre

// Filtering based on publishers

function filterByPublication(){
  var valueOfPublication = filterPublication.value;
  var valueOfPublicationData = booksDataDisplayed.filter(function(elem){
    return elem.publication == valueOfPublication ;
  });
  // console.log(valueOfPublicationData);
  displayProducts(valueOfPublicationData)
}

// Filtering based on publishers